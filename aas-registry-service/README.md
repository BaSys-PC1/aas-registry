# Asset Administration Registry Server

This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project.  

It is based on [Spring Boot](https://spring.io/projects/spring-boot) and logs shell or submodel registration-updates. The storage implementation is missing. You can either use the inMemory implementation or elastisearch implementation provided by sibling projects or implement your own storage.

Use the base-model project if you want to use just POJOs generated out of the OpenAPI description. You can also generate or implement your own model classes with specific annotations as we do it fo rthe elasticsearch-storage implementation.




## Testing

The integration tests start an Apache Kafka and an ElasticSearch instance using [testcontainers](https://www.testcontainers.org/), so you need to start up a docker daemon before running the tests.

## Docker

To run the server from a docker-compose script locally, execute the following shell-scripts from the current folder:
- *./mvn-install.sh* to create the output jar file
- *./docker-build.sh* to build the docker image (docker daemon needs to be running)
- *./docker-compose-up.sh* to start all involved services

Now that your instances are running:
- Check the installation from the started [portainer instance](http://localhost:9090)
- Elastic-search needs some time to start up, so the registry server could start multiple times until elastisearch is ready to receive connections
- Try to override settings in the [docker-compose-config/application.yml](docker-compose-config/application.yml) file
- Open [http://localhost:8020/swagger-ui/](http://localhost:8020/swagger-ui/) or [http://localhost:8020/registry/shell-descriptors/](http://localhost:8020/registry/shell-descriptors/) to test the backend
- If you want to test the application from your eclipse IDE, run "RegistryServiceDocker.launch"
- Use *./docker-compose-down.sh* to tear down the components again

